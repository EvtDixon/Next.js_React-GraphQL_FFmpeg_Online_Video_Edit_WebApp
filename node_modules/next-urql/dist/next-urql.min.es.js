import e from"react";import t from"react-ssr-prepass";import{createClient as r,ssrExchange as n,dedupExchange as i,cacheExchange as o,fetchExchange as a,Provider as u}from"urql";function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s,c=null;function p(e){var t="undefined"==typeof window;return!t&&c||(c=r(l({},e,{suspense:t||e.suspense}))),c}function f(){return null}function v(r,c){return c||(c={}),function(v){var m,d=function(t){var c=t.urqlClient,f=t.urqlState,m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(t,["urqlClient","urqlState"]),d=e.useMemo((function(){if(c)return c;s&&"undefined"!=typeof window||(s=n({initialState:f}));var e=r(s);return e.exchanges||(e.exchanges=[i,o,s,a]),p(e)}),[c,f]);return e.createElement(u,{value:d},e.createElement(v,l({urqlClient:d},m)))};return d.displayName="withUrqlClient("+((m=v).displayName||m.name||"Component")+")",(v.getInitialProps||c.ssr)&&(d.getInitialProps=function(u){function s(){return P.toJSON=f,l({},C,{urqlState:g?g.extractData():void 0,urqlClient:P})}function c(){if("undefined"!=typeof window)return l({},C,{urqlClient:P});var r=l({},C,{urqlClient:P});return Promise.resolve(t(e.createElement(d,l({},h?r:{pageProps:r})))).then(s)}function m(e){C=e}try{var d=u.AppTree,h=!!u.Component,q=h?u.ctx:u,g=n({initialState:void 0}),y=r(g,q);y.exchanges||(y.exchanges=[i,o,g,a]);var P=p(y);P&&(q.urqlClient=P);var C={};const e=function(){if(v.getInitialProps)return Promise.resolve(v.getInitialProps(u)).then(m)}();return Promise.resolve(e&&e.then?e.then(c):c())}catch(e){return Promise.reject(e)}}),d}}export{v as withUrqlClient};
//# sourceMappingURL=next-urql.min.es.js.map
